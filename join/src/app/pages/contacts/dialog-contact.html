<section class="dialog">
  <div class="dialog__left">
    <div class="brand">
      <img src="/img/Logo-white.svg" alt="Join" class="dialog__logo" />
      <div class="title">{{ mode === 'edit' ? 'Edit contact' : 'Add contact' }}</div>
      <div class="subtitle">Tasks are better with a team!</div>
    </div>
  </div>
  <div class="dialog__right">
    <button class="close" type="button" (click)="cancel()">×</button>

    <div class="avatar" [style.background]="(contact?.color || '#e4e7ed')">
      <span class="initials" *ngIf="mode==='edit' && contact">{{ (contact?.name || '') | slice:0:1 }}{{ (contact?.name || '').split(' ')[1]?.slice(0,1) }}</span>
      <img *ngIf="mode==='create'" src="/img/icons/person.svg" alt="Person" style="width:32px;height:32px;opacity:0.8;" />
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" class="form">
      <label>
        <input formControlName="name" placeholder="Name" />
        <img class="field-icon" src="/img/icons/person.svg" alt="Name" />
      </label>
      <label>
        <input formControlName="email" type="email" placeholder="Email" />
        <img class="field-icon" src="/img/icons/mail.svg" alt="Email" />
      </label>
      <label>
        <input formControlName="phone" placeholder="Phone" />
        <img class="field-icon" src="/img/icons/call.svg" alt="Phone" />
      </label>

      <div class="actions" *ngIf="mode==='create'">
        <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid || loading">Create contact ✓</button>
      </div>
      <div class="actions" *ngIf="mode==='edit'">
        <button type="button" class="btn btn-secondary" (click)="remove()">Delete</button>
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid || loading">Save ✓</button>
      </div>
    </form>
  </div>
</section>
