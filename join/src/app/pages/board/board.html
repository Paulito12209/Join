<div class="board-container">
    <div class="board-header">
        <div class="header-left">
            <h1>Board</h1>
            <button class="add-task-btn">
                <img src="img/icons/add.svg" alt="Add task">
            </button>
        </div>
        <div class="header-right">
            <div class="search-field">
                <input type="text" placeholder="Find Task">
                <div class="search-separator"></div>
                <img src="img/icons/search.svg" alt="Search" class="search-icon">
            </div>
            <button class="add-task-btn">
                <span>Add task</span> <img src="img/icons/add.svg" alt="Add task">
            </button>
        </div>
    </div>
    <div class="board-content">
        <!-- TO DO -->
        <div class="status-container">
            <div class="status-header">
                <h2>To do</h2>
                <button>
                    <img src="img/icons/add_board_button.svg" alt="Add task">
                </button>
            </div>
            <div cdkDropList id="todoList" #todoList="cdkDropList" [cdkDropListData]="todo"
                [cdkDropListConnectedTo]="[progressList, feedbackList, doneList]" class="example-list"
                (cdkDropListDropped)="drop($event)">
                <div class="example-box" *ngFor="let task of todo" cdkDrag>
                    <!-- Task Content -->
                    <div class="task-category"
                        [ngClass]="{'user-story': task.category === 'user-story', 'technical-task': task.category === 'technical-task'}">
                        {{ task.category === 'user-story' ? 'User Story' : 'Technical Task' }}
                    </div>
                    <div class="task-title">{{ task.title }}</div>
                    <div class="task-description">{{ task.description }}</div>
                    <!-- Placeholder for Subtaks/Assignees/Priority if needed later -->
                </div>
            </div>
        </div>

        <!-- IN PROGRESS -->
        <div class="status-container">
            <div class="status-header">
                <h2>In progress</h2>
                <button>
                    <img src="img/icons/add_board_button.svg" alt="Add task">
                </button>
            </div>
            <div cdkDropList id="progressList" #progressList="cdkDropList" [cdkDropListData]="inProgress"
                [cdkDropListConnectedTo]="[todoList, feedbackList, doneList]" class="example-list"
                (cdkDropListDropped)="drop($event)">
                <div class="example-box" *ngFor="let task of inProgress" cdkDrag>
                    <div class="task-category"
                        [ngClass]="{'user-story': task.category === 'user-story', 'technical-task': task.category === 'technical-task'}">
                        {{ task.category === 'user-story' ? 'User Story' : 'Technical Task' }}
                    </div>
                    <div class="task-title">{{ task.title }}</div>
                    <div class="task-description">{{ task.description }}</div>
                </div>
            </div>
        </div>

        <!-- AWAIT FEEDBACK -->
        <div class="status-container">
            <div class="status-header">
                <h2>Await feedback</h2>
                <button>
                    <img src="img/icons/add_board_button.svg" alt="Add task">
                </button>
            </div>
            <div cdkDropList id="feedbackList" #feedbackList="cdkDropList" [cdkDropListData]="awaitFeedback"
                [cdkDropListConnectedTo]="[todoList, progressList, doneList]" class="example-list"
                (cdkDropListDropped)="drop($event)">
                <div class="example-box" *ngFor="let task of awaitFeedback" cdkDrag>
                    <div class="task-category"
                        [ngClass]="{'user-story': task.category === 'user-story', 'technical-task': task.category === 'technical-task'}">
                        {{ task.category === 'user-story' ? 'User Story' : 'Technical Task' }}
                    </div>
                    <div class="task-title">{{ task.title }}</div>
                    <div class="task-description">{{ task.description }}</div>
                </div>
            </div>
        </div>

        <!-- DONE -->
        <div class="status-container">
            <div class="status-header">
                <h2>Done</h2>
            </div>

            <div cdkDropList id="doneList" #doneList="cdkDropList" [cdkDropListData]="done"
                [cdkDropListConnectedTo]="[todoList, progressList, feedbackList]" class="example-list"
                (cdkDropListDropped)="drop($event)">
                <div class="example-box" *ngFor="let task of done" cdkDrag>
                    <div class="task-category"
                        [ngClass]="{'user-story': task.category === 'user-story', 'technical-task': task.category === 'technical-task'}">
                        {{ task.category === 'user-story' ? 'User Story' : 'Technical Task' }}
                    </div>
                    <div class="task-title">{{ task.title }}</div>
                    <div class="task-description">{{ task.description }}</div>
                </div>
            </div>
        </div>
    </div>
</div>